<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PJ T6 - RPH DIGITAL</title>
    <style>
        :root { --primary: #006266; --accent: #1289A7; --success: #27ae60; --danger: #e74c3c; }
        body { font-family: 'Segoe UI', sans-serif; background: #f4f7f6; padding: 20px; margin: 0; color: #333; }
        .container { max-width: 900px; margin: auto; background: white; padding: 25px; border-radius: 15px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        .header { text-align: center; border-bottom: 3px solid var(--primary); padding-bottom: 15px; margin-bottom: 25px; }
        .no-print { background: #e3f2fd; padding: 20px; border-radius: 10px; border: 1px solid #ddd; margin-bottom: 30px; }
        .grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-bottom: 15px; }
        .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px; }
        label { font-weight: bold; font-size: 13px; display: block; margin-bottom: 5px; color: var(--primary); }
        select, input, textarea { width: 100%; padding: 12px; border: 1px solid #ccc; border-radius: 8px; font-size: 14px; box-sizing: border-box; }
        .sp-box { border: 1px solid #ddd; background: #fff; max-height: 200px; overflow-y: auto; border-radius: 8px; margin: 10px 0; padding: 5px; }
        .sp-item { display: flex; align-items: flex-start; padding: 8px; border-bottom: 1px solid #eee; font-size: 13px; cursor: pointer; }
        .sp-item:hover { background: #f0f7ff; }
        .sp-item input { width: 18px; height: 18px; margin-right: 12px; cursor: pointer; flex-shrink: 0; }
        .btn { padding: 12px; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; color: white; transition: 0.3s; font-size: 14px; }
        .btn-ai { background: var(--accent); }
        .btn-ref { background: #1B1464; }
        .btn-save { background: var(--success); width: 100%; margin-top: 20px; font-size: 16px; }
        .btn-clear { background: var(--danger); }
        .btn-print { background: #000; }
        .btn-hub { background: #7f8c8d; }
        .rph-table { width: 100%; border-collapse: collapse; margin-top: 30px; border: 2px solid #000; table-layout: fixed; background: #fff; }
        .rph-table td { border: 1px solid #000; padding: 12px; vertical-align: top; font-size: 14px; word-wrap: break-word; line-height: 1.5; }
        .label-cell { width: 160px; background: #f2f2f2; font-weight: bold; font-size: 12px; text-transform: uppercase; }
        @media print { .no-print { display: none; } body { background: white; padding: 0; } .container { box-shadow: none; max-width: 100%; padding: 0; } .rph-table { page-break-inside: avoid; } }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <h2 style="margin:0;">RANCANGAN PENGAJARAN HARIAN</h2>
        <p style="margin:5px 0;">PENDIDIKAN JASMANI TAHUN 6 | MOHAMAD HELMIE BIN ABAB</p>
    </div>

    <div class="no-print">
        <div class="grid-3">
            <div><label>Tarikh</label><input type="date" id="tark" onchange="setHari()"></div>
            <div><label>Hari</label><input type="text" id="hari" readonly placeholder="Auto-set"></div>
            <div><label>Minggu</label><select id="mng"></select></div>
        </div>
        <div class="grid-2">
            <div><label>Masa (Dari - Hingga)</label><input type="text" id="masa" placeholder="Contoh: 07:30 - 08:30"></div>
            <div><label>Pilih Unit/SK</label><select id="sk" onchange="loadSP()"></select></div>
        </div>

        <label>Standard Pembelajaran (SP)</label>
        <div id="sp-list" class="sp-box">Sila pilih unit...</div>

        <div class="grid-2">
            <div>
                <button class="btn btn-ai" onclick="janaPdP()">‚ú® Jana Aktiviti</button>
                <textarea id="obj" rows="6"></textarea>
            </div>
            <div>
                <button class="btn btn-ref" onclick="janaRefleksi()">üí° Jana Refleksi</button>
                <textarea id="ref" rows="6"></textarea>
            </div>
        </div>

        <button class="btn btn-save" onclick="tambahJadual()">‚ûï SIMPAN KE DALAM JADUAL</button>
        
        <div style="display:grid; grid-template-columns: 1fr 1fr 1fr; gap:10px; margin-top:20px;">
            <button class="btn btn-print" onclick="window.print()">üñ®Ô∏è CETAK / PDF</button>
            <button class="btn btn-clear" onclick="kosongkanSemua()">üóëÔ∏è KOSONGKAN</button>
            <button class="btn btn-hub" onclick="location.href='INDEX.html'">üè† HUB UTAMA</button>
        </div>
    </div>

    <div id="output"></div>
</div>

<script>
const dataSubjek = {
    "Unit 1: Gimnastik Asas": ["1.1.1 Melakukan imbangan handstand.","1.2.1 Lompat kangkang di atas peti lombol.","1.3.1 Melakukan guling depan dan guling belakang berterusan.","2.1.1 Mengenalpasti perubahan pusat graviti semasa imbangan."],
    "Unit 2: Pergerakan Berirama": ["1.5.1 Mereka cipta rangkaian pergerakan kreatif bertema.","1.5.2 Melakukan rangkaian pergerakan kreatif bertema mengikut muzik.","2.5.1 Mengenalpasti pergerakan lokomotor dlm tarian."],
    "Unit 3: Permainan (Kategori Serangan)": ["1.6.1 Mengelecek bola melepasi lawan.","1.6.2 Melakukan hantaran ke pelbagai arah.","1.6.3 Memintas bola yang dihantar oleh pihak lawan.","2.6.1 Mengenalpasti ruang terbuka untuk menghantar bola."],
    "Unit 4: Permainan (Kategori Jaring)": ["1.7.1 Melakukan pelbagai jenis servis.","1.7.2 Melakukan rejam bola ke dalam zon sasaran.","1.7.3 Melakukan adangan untuk menyekat bola masuk.","2.7.1 Mengenalpasti pemasyhuran sudut semasa melakukan rejam."],
    "Unit 5: Permainan (Kategori Padang)": ["1.8.1 Memukul bola ke pelbagai arah dan jarak.","1.8.2 Menangkap bola dari pelbagai arah dan aras.","2.8.1 Mengenalpasti titik kontak pada pemukul dan bola."],
    "Unit 6: Olahraga Asas (Larian)": ["1.9.1 Melakukan lari berpagar dengan teknik betul.","1.9.2 Berlari pecut pada jarak yang ditetapkan.","2.9.1 Mengenalpasti kedudukan badan semasa larian."],
    "Unit 7: Olahraga Asas (Lompatan)": ["1.10.1 Melakukan lompat tinggi gaya gunting.","1.10.2 Melakukan lompat jauh dengan teknik pendaratan yang betul."],
    "Unit 8: Olahraga Asas (Balingan)": ["1.11.1 Melakukan lempar cakera gaya sisi.","1.11.2 Melakukan lontar peluru dengan teknik betul."],
    "Unit 9: Komponen Kecergasan": ["3.1.1 Mengira kadar nadi latihan (KNL).","3.1.2 Melakukan aktiviti meningkatkan kapasiti aerobik.","4.1.1 Mengenalpasti perkaitan nadi dengan intensiti aktiviti."],
    "Unit 10: Pentaksiran SEGAK": ["3.6.1 Melakukan ujian SEGAK (Fasa 1 & 2).","3.6.2 Merekodkan keputusan ujian SEGAK."]
};

const mS = document.getElementById('mng'); for(let i=1; i<=42; i++) mS.innerHTML += `<option>Minggu ${i}</option>`;
const skS = document.getElementById('sk'); skS.innerHTML = "<option value=''>-- Pilih Unit --</option>";
Object.keys(dataSubjek).forEach(u => skS.innerHTML += `<option value="${u}">${u}</option>`);

function setHari() { 
    let d = new Date(document.getElementById('tark').value);
    document.getElementById('hari').value = ['Ahad','Isnin','Selasa','Rabu','Khamis','Jumaat','Sabtu'][d.getDay()] || '';
}

function loadSP() {
    let u = skS.value; let box = document.getElementById('sp-list'); box.innerHTML = "";
    if(dataSubjek[u]) dataSubjek[u].forEach(p => {
        box.innerHTML += `<label class="sp-item"><input type="checkbox" name="sp_c" value="${p}"><span>${p}</span></label>`;
    });
}

function janaPdP() {
    let sps = Array.from(document.querySelectorAll('input[name="sp_c"]:checked')).map(e => e.value);
    if(sps.length == 0) return alert("Pilih SP!");
    document.getElementById('obj').value = `OBJEKTIF:\nPada akhir PdP, murid dapat:\n${sps.map(s => "- " + s).join("\n")}\n\nAKTIVITI:\n1. Pemanasan badan & regangan.\n2. Taklimat keselamatan & tunjuk cara kemahiran.\n3. Latihan amali secara individu/berpasangan.\n4. Permainan kecil / Uji bakat.\n5. Menyejukkan badan (cooling down).`;
}

function janaRefleksi() {
    document.getElementById('ref').value = `___/___ murid dapat melakukan kemahiran dengan teknik yang betul.\n\nPdP ditangguhkan kerana:\n( ) Cuaca Hujan / Kilat\n( ) Program Sekolah\n( ) Mesyuarat / Kursus`;
}

function tambahJadual() {
    let sps = Array.from(document.querySelectorAll('input[name="sp_c"]:checked')).map(e => e.value);
    if(!document.getElementById('tark').value || sps.length == 0) return alert("Lengkapkan data!");
    let html = `
    <table class="rph-table">
        <tr><td class="label-cell">INFO PdP</td><td><b>MG ${document.getElementById('mng').value.replace('Minggu ','')}</b> | ${document.getElementById('tark').value} | ${document.getElementById('hari').value}</td></tr>
        <tr><td class="label-cell">MASA</td><td>${document.getElementById('masa').value}</td></tr>
        <tr><td class="label-cell">UNIT / SP</td><td><b>${skS.value}</b><br>${sps.join("<br>")}</td></tr>
        <tr><td class="label-cell">AKTIVITI</td><td>${document.getElementById('obj').value.replace(/\n/g,"<br>")}</td></tr>
        <tr><td class="label-cell">REFLEKSI</td><td>${document.getElementById('ref').value.replace(/\n/g,"<br>")}</td></tr>
    </table><div style="page-break-after:always;"></div>`;
    document.getElementById('output').innerHTML += html;
    window.scrollTo(0, document.body.scrollHeight);
}

function kosongkanSemua() {
    if(confirm("Padam semua jadual?")) document.getElementById('output').innerHTML = "";
}
</script>
</body>
</html>